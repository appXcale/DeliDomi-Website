var form = document.getElementById("Formulario");
var button = document.getElementById('buttonEmail');
var terms = document.getElementById('Terms')
var policy = document.getElementById('Policy')

var textTerms = `<h5>Hola! Somos DeliDomi </h5><p>Al utilizar nuestra plataforma aceptas las siguientes condiciones de uso. 
</p><h5>ASPECTOS GENERALES</h5><p>DeliDomi es una sociedad constituida en Bucaramanga bajo las leyes comerciales aplicables a las sociedades por acciones simplificadas S.A.S., en Colombia.</p>
<p>Somos una aplicación móvil de delivery local, socialmente responsable, disponible exclusivamente para usuarios en Colombia. 
</p><p>En virtud del artículo 53 de la Ley 1480 de 2011 y la Guía para la protección del consumidor de comercio electrónico, emitida por la Superintendencia de Industria y Comercio, DeliDomi es un portal de contacto que sirve como puente entre comercios aliados y usuarios que realizan pedidos a través de la aplicación. </p> <h5>DEFINICIONES
</h5><ul><li>Comercios Aliados: Persona natural o jurídica que exhibe, ofrece y comercializa productos a través de la Plataforma DeliDomi, para que los mismos sean adquiridos por los Usuarios. 
</li><li>Datos Personales: Información asociada a una persona y que permite su identificación.
</li><li>DeliDomi app: Plataforma virtual compuesta por una aplicación para dispositivos móviles a través de la cual los Comercios Aliados exhiben, ofrecen y comercializan productos y/o servicios para que sean adquiridos por los Usuarios.</li><li>Titular: Persona natural cuyos Datos Personales son objeto de Tratamiento.
</li><li>Tratamiento: Operación o conjunto de operaciones sobre Datos Personales,tales como la recolección, almacenamiento, uso, circulación o supresión.
</li><li>Usuario/Consumidor: Persona natural que, como destinatario final, utiliza la Plataforma DeliDomi para adquirir los productos y/o servicios exhibidos, ofrecidos y comercializados por los Comercios Aliados a través de la misma.
</li></ul><h5>OBJETO</h5> <p>Estos términos y Condiciones regulan la autorización de uso que otorga DeliDomi a los Usuarios para que éstos ingresen a la Plataforma DeliDomi, se informen sobre los productos y servicios exhibidos, ofrecidos y comercializados por los Comercios Aliados y puedan adquirir los mismos a través de la Plataforma DeliDomi.</p> <h5>ACEPTACIÓN DE LOS TÉRMINOS Y CONDICIONES</h5> <p>El Usuario, al momento de registrarse en la Plataforma DeliDomi, acepta voluntariamente de manera previa, expresa e informada el contenido de los presentes Términos y Condiciones en su totalidad, por lo cual, se obliga irrevocablemente a éstos.</p><p>La persona natural que acepta los presentes Términos y Condiciones declara ser mayor de edad y garantiza ser el Usuario que hará uso de la Plataforma DeliDomi.</p><h5>FUNCIONAMIENTO DE LA PLATAFORMA DELIDOMI</h5> <p>DeliDomi es una plataforma virtual que conecta a los Comercios Aliados con Usuarios. A través de la Plataforma DeliDomi, los Comercios Aliados pueden exhibir sus productos para que sean adquiridos por los Usuarios. Estos últimos pueden realizar pedidos, los cuales serán gestionados y entregados directamente por los repartidores contratados por los Comercios Aliados.</p><p>DELIDOMI no comercializa productos y/o servicios ni presta servicios de logística y/o entrega a los Usuarios. Los precios, cantidad, disponibilidad y características de los productos y/o servicios exhibidos en la Plataforma DeliDomi son determinados directamente por los Aliados Comerciales y no por DeliDomi.</p><h5>DEBERES DEL USUARIO</h5> <p>El Usuario se obliga a: </p><ul><li> Ingresar sus Datos Personales reales, al momento de registrarse en la Plataforma DeliDomi;
</li><li>Abstenerse de transferir a terceros los datos de validación de su cuenta en la Plataforma DeliDomi; 
<li>Notificar a DeliDomi respecto de cualquier uso no autorizado de su cuenta al interior de la Plataforma DeliDomi;</li><li>Abstenerse de utilizar la Plataforma DeliDomi para realizar actos contrarios a la moral, la ley, el orden público y las buenas costumbres en contra de DeliDomi, los Comercios Aliados, y/o de terceros; </li><li>Disponer de fondos suficientes para procesar el pago de las órdenes solicitadas por medio de la Plataforma DeliDomi; </li><li>Realizar el pago del valor total de la orden directamente al Comercio Aliado a través del método de pago seleccionado en la plataforma; </li><li>Abstenerse de registrar métodos de pago de propiedad de terceros sin autorización de éstos; </li><li>Registrar los métodos de pago de conformidad con el proceso de verificación al interior de la Plataforma DeliDomi; </li><li>Pagar cualquier deuda que se genere en virtud del uso de la Plataforma;</li><li>Recibir los productos solicitados a través de la Plataforma DeliDomi; </li><li>Verificar en el mismo momento de la entrega, que los productos y/o servicios solicitados por medio de la Plataforma DeliDomi correspondan a los solicitados por el Usuario/Consumidor; 
</li><li>Informarse sobre las instrucciones de uso y consumo de los productos solicitados a través de la Plataforma DeliDomi;</li><li>Asegurarse de que los datos de la orden (productos, dirección de entrega, entre otros) sean correctos antes de solicitar la misma;</li><li>Abstenerse de entablar relaciones con los repartidores y/o Comercios Aliados para realizar actividades ilícitas y/o contrarias a la moral y buenas costumbres; 
</li><li>Abstenerse de suplantar la identidad de otros Usuarios/Consumidores; 
</li><li>bstenerse de descifrar, descompilar o desensamblar cualquier elemento de la Plataforma DeliDomi;
</li><li>Abstenerse de tener más de una (1) cuenta en la Plataforma DeliDomi con los mismos Datos Personales. El Usuario/Consumidor reconoce y acepta que DeliDomise reserva el derecho de desactivar las cuentas que no cumplan con estos parámetros;</li><li>Mantener custodia del dispositivo móvil o portátil por medio del cual accede a la Plataforma DeliDomi, garantizando que terceros no tengan acceso indebido a la Plataforma DeliDomi por acciones u omisiones del Usuario. Se aclara que, en caso de que se evidencie que el Usuario no ha custodiado en debida forma su dispositivo móvil o portátil, DELIDOMI no tendrá ningún tipo de responsabilidad por accesos no autorizados por parte de terceros a la Plataforma DeliDomi; </li><li>Tratar de manera respetuosa a los repartidores; </li><li>Abstenerse de usar la propiedad intelectual de DeliDomi y/o los Comercios Aliados para fines no autorizados expresamente por éstos.</li></ul><p>Al solicitar la orden a través de la Plataforma DeliDomi, el Usuario acepta de manera irrevocable los costos (valor de los productos, costo de envío, tarifa de servicio, entre otros), los cuales se encuentran discriminados en el Check-Out de la orden.
</p><p>Ante el incumplimiento de cualquiera de las obligaciones contenidas en la presente sección, DeliDomi se reserva el derecho de bloquear definitivamente la cuenta del Usuario en la Plataforma DeliDomi.</p><h5>DEBERES DE DELIDOMI</h5> <p>DeliDomi se obliga a:</p><ul><li>Informar de forma clara, actualizada y suficiente en la Plataforma DeliDomi los datos de contacto e identificación de DeliDomi;</li><li>Establecer en la Plataforma DeliDomi un enlace visible y fácilmente identificable que le permita al Usuario ingresar a la página de la Superintendencia de Industria y Comercio;
</li><li>Informar suficientemente a los Usuarios sobre los métodos de pago habilitados por el Comercio Aliado al interior de la Plataforma DeliDomi;
</li><li>Poner a disposición de los Usuarios los Términos y Condiciones de uso de la Plataforma DeliDomi de forma actualizada; </li><li>Informar al Usuario en el Check-Out de la orden los valores totales que deberá pagar para solicitar la misma.</li></ul><p>Los Usuarios reconocen y aceptan que DeliDomi es un portal de contacto y, como tal, no es quien exhibe, ofrece y/o comercializa los productos. En consecuencia, los Usuarios reconocen y aceptan que DeliDomi no es responsable por la calidad, idoneidad, seguridad y garantía de los productos y/o servicios exhibidos, ofrecidos y comercializados por los Comercios Aliados a través de la Plataforma DeliDomi.</p><h5>FORMAS DE PAGO
</h5> <p>DELIDOMI ofrece a los Comercios Aliados las siguientes formas de pago, para que estos elijan cual de ellas ponen a disposición de los Usuarios, para la adquisición de productos en la plataforma: (i) Pago contraentrega en efectivo; (ii) Pago contraentrega con datafono;  (iii)Transferencia.
</p><h5>CENTRO DE AYUDA
</h5> <p>DELIDOMI dispone del Usuario un Centro de Ayuda al interior de la Plataforma para presentar PQRs a los Comercios Aliados, respecto de las órdenes solicitadas a través de la Plataforma. DeliDomi actúa como intermediario., y las PQRS serán atendidas directamente por los Comercios Aliados.
</p><h5>USO INDEBIDO DE LA PLATAFORMA 
</h5> <p>DeliDomi podrá bloquear de forma temporal o definitiva la cuenta del Usuario en el caso en el que se verifique cualquiera de los siguientes eventos: (i) el incumplimiento de la ley colombiana; (ii) el incumplimiento de cualquiera de las disposiciones de los presentes Términos y Condiciones; (c) si el Usuario incurre en conductas en detrimento de DeliDomi o sus Comercios Aliados; (d) si no pudiera confirmarse la identidad del Usuario/Consumidor o cualquier información proporcionada por el mismo fuere errónea.
</p><p>DELIDOMI se reserva el derecho de cancelar cualquier orden que se genere en medio de un posible evento de fraude. Cancelará la orden sin previo aviso al Usuario.</p><h5>PROPIEDAD INTELECTUAL
</h5> <p>Todo el contenido incluido o disponible a través de DeliDomi, como texto, gráficos, logotipos, iconos de botones, imágenes, clips de audio, descargas digitales, compilaciones de datos y software, es propiedad de DeliDomi o de sus Comercios Aliados. Su uso no está permitido y constituye infracción a la propiedad intelectual. </p><h5>DESCRIPCIONES DE LOS PRODUCTOS
</h5> <p>DeliDomi y sus Comercios Aliados intentan ser lo más precisos posible. Sin embargo, no garantizamos que las descripciones o imágenes de los productos sean precisos o idénticos.</p><h5>MODIFICACIONES A LOS TÉRMINOS Y CONDICIONES
</h5> <p>DeliDomi se reserva el derecho de realizar modificaciones a los presentes Términos y Condiciones. Estas modificaciones serán informadas a los Usuarios a través de la Plataforma DeliDomi. En caso de que el Usuario no acepte las modificaciones realizadas a los presentes Términos y Condiciones, podrá solicitar la cancelación de su cuenta en la Plataforma DeliDomi.</p><h5>LEY APLICABLE Y JURISDICCIÓN
</h5> <p>Estos Términos y Condiciones se rigen por las leyes de la República de Colombia. Para cualquier controversia que surja en relación con la interpretación, ejecución y cumplimiento de los presentes Términos y Condiciones, las partes se someten a la jurisdicción de los jueces y tribunales de la República de Colombia.</p>`

var textPolicy = `<h5>AVISO DE PRIVACIDAD
</h5> <p>Este Aviso de Privacidad describe cómo DeliDomi recolecta, utiliza, almacena y protege los Datos Personales de los Usuarios que utilizan la Plataforma DeliDomi.</p>
<h5>RECOLECCIÓN DE DATOS PERSONALES</h5> <p>DeliDomi recolecta los siguientes Datos Personales de los Usuarios/Consumidores: (i) Nombre; (ii) Número de Identificación; (iii) Dirección de Correo Electrónico; (iv) Número de Teléfono; (v) Dirección de entrega de los productos; (vi) Información de Pago.</p>
<h5>USO DE DATOS PERSONALES</h5> <p>DeliDomi utiliza los Datos Personales de los Usuarios para los siguientes fines:</p><p>(i) Procesar las órdenes solicitadas a través de la Plataforma DeliDomi; (ii) Contactar a los Usuarios en caso de cualquier eventualidad con la orden solicitada; (iii) Mejorar la experiencia de uso de la Plataforma DeliDomi; (iv) Enviar información promocional y/o publicitaria de DeliDomi y sus Comercios Aliados.
</p>
<h5>ALMACENAMIENTO DE DATOS PERSONALES</h5> <p>DeliDomi almacena los Datos Personales de los Usuarios de manera segura, implementando medidas técnicas y administrativas para protegerlos de acceso, uso o divulgación no autorizados.</p>
<h5>DERECHOS DEL TITULAR</h5> <p>Los Usuarios, en calidad de Titulares de los Datos Personales, tienen derecho a: (i) Acceder a sus Datos Personales; (ii) Solicitar la actualización y/o rectificación de sus Datos Personales; (iii) Solicitar la eliminación de sus Datos Personales; (iv) Revocar la autorización para el tratamiento de sus Datos Personales.
</p>
<h5>CONTACTO</h5> <p>Para cualquier solicitud, queja o reclamo relacionado con el tratamiento de sus Datos Personales, los Usuarios pueden contactar a DeliDomi a través del correo electrónico: clientes@delidomi.com.</p>

`
// Función para validar el correo electrónico
function validarEmail(email) {
    const regex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
    return regex.test(email);
}

// Función para enviar la solicitud POST
function enviarFormulario(event) {
    event.preventDefault(); // Prevenir el comportamiento predeterminado del formulario
    console.log("Entra");

    // Obtener los valores de los campos del formulario
    const email = document.getElementById('Email').value;
    const name = email; // Ajustar según sea necesario
    const number = email; // Ajustar según sea necesario
    const message = "Join the comunity DeliDomi " + email;

    // Validar el correo electrónico
    if (!validarEmail(email)) {
        alert('Por favor, ingresa un correo electrónico válido.');
        return;
    }

    // Crear el objeto de datos a enviar
    const data = {
        subject: "DeliDomi email Comunity:",
        senderName: "info@appxcale.com",
        senderEmail: "info@appxcale.com",
        name: "",
        email: email,
        number: "",
        message: ""
    };

    // Configurar la solicitud POST
    fetch('https://dpwkio75kl.execute-api.us-east-1.amazonaws.com/sendEmail', {
        method: 'POST',
        mode: 'no-cors',
        // cache: 'no-cache', // *default, no-cache, reload, force-cache, only-if-cached
        // credentials: 'same-origin', // include, *same-origin, omit
        headers: {
            Accept: 'application/json',
            'Content-Type': 'application/json'
        },
        // redirect: 'follow', // manual, *follow, error
        // referrerPolicy: 'no-referrer', // no-referrer, *no-referrer-when-downgrade, origin, origin-when-cross-origin, same-origin, strict-origin, strict-origin-when-cross-origin, unsafe-url
        body: JSON.stringify(data) // body data type must match "Content-Type" header
    })

        .then(response => console.log(response))
        .then(data => {
            // Manejar la respuesta del servidor
            console.log('Success:', data);
            alert('Formulario enviado con éxito.');
        })
        .catch((error) => {
            console.error('Error:', error);
            alert('Hubo un problema al enviar el formulario.');
        });
}

form.addEventListener('submit', enviarFormulario);

terms.addEventListener('click', function () {
    openModal('Términos y Condiciones',textTerms);
});

policy.addEventListener('click', function () {
    openModal('Política de Privacidad', textPolicy);
});

function openModal(title, bodyContent) {
    var modalTitle = document.getElementById('exampleModalLabel');
    var modalBody = document.getElementById('modalBodyContent');

    modalTitle.textContent = title;
    modalBody.innerHTML = bodyContent;

    $('#exampleModal').modal('show');
}
// Asignar la prevención del comportamiento predeterminado al botón
document.getElementById('buttonEmail').addEventListener('click', function (event) {
    enviarFormulario(event);
});